\doxysection{C\+:/\+Users/stepp/\+Documents/\+Visual Studio 2022/\+Projects/\+C/\+PQS/\+PQS/client.h File Reference}
\hypertarget{client_8h}{}\label{client_8h}\index{C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/PQS/PQS/client.h@{C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/PQS/PQS/client.h}}


PQS Client functions.  


{\ttfamily \#include "{}pqs.\+h"{}}\newline
{\ttfamily \#include "{}../../\+QSC/\+QSC/rcs.\+h"{}}\newline
{\ttfamily \#include "{}../../\+QSC/\+QSC/socketclient.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
PQS\+\_\+\+EXPORT\+\_\+\+API \mbox{\hyperlink{pqs_8h_a2c9a6e74f4ff60d25602074a1d70a4e2}{pqs\+\_\+errors}} \mbox{\hyperlink{client_8h_a3ce3276732b631174b471d95e8f1e1fd}{pqs\+\_\+client\+\_\+connect\+\_\+ipv4}} (const \mbox{\hyperlink{structpqs__client__verification__key}{pqs\+\_\+client\+\_\+verification\+\_\+key}} \texorpdfstring{$\ast$}{*}pubk, const qsc\+\_\+ipinfo\+\_\+ipv4\+\_\+address \texorpdfstring{$\ast$}{*}address, uint16\+\_\+t port, void(\texorpdfstring{$\ast$}{*}send\+\_\+func)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), void(\texorpdfstring{$\ast$}{*}receive\+\_\+callback)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}, size\+\_\+t))
\begin{DoxyCompactList}\small\item\em Connect to the remote server using IPv4 and perform the key exchange. \end{DoxyCompactList}\item 
PQS\+\_\+\+EXPORT\+\_\+\+API \mbox{\hyperlink{pqs_8h_a2c9a6e74f4ff60d25602074a1d70a4e2}{pqs\+\_\+errors}} \mbox{\hyperlink{client_8h_a7633f2367ce518b49db644a90807103c}{pqs\+\_\+client\+\_\+connect\+\_\+ipv6}} (const \mbox{\hyperlink{structpqs__client__verification__key}{pqs\+\_\+client\+\_\+verification\+\_\+key}} \texorpdfstring{$\ast$}{*}pubk, const qsc\+\_\+ipinfo\+\_\+ipv6\+\_\+address \texorpdfstring{$\ast$}{*}address, uint16\+\_\+t port, void(\texorpdfstring{$\ast$}{*}send\+\_\+func)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), void(\texorpdfstring{$\ast$}{*}receive\+\_\+callback)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}, size\+\_\+t))
\begin{DoxyCompactList}\small\item\em Connect to the remote server using IPv6 and perform the key exchange. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PQS Client functions. 

This header defines the functions used to implement the Post Quantum Shell (PQS) client. The client is responsible for connecting to a remote PQS server using either an IPv4 or IPv6 address, performing the simplex key exchange, and managing the send and receive operations through callback functions.

The public API includes the following functions\+:


\begin{DoxyItemize}
\item pqs\+\_\+client\+\_\+connect\+\_\+ipv4\+: Establishes a connection to a remote server using an IPv4 address.
\item pqs\+\_\+client\+\_\+connect\+\_\+ipv6\+: Establishes a connection to a remote server using an IPv6 address.
\end{DoxyItemize}

Both functions initialize the PQS client state, perform the key exchange, and then invoke callback functions to run the send loop (on the main thread) and the receive loop (on a new thread). In case of errors during connection, key exchange, or data transmission, appropriate error logging is performed and the connection is terminated. 

\doxysubsection{Function Documentation}
\Hypertarget{client_8h_a3ce3276732b631174b471d95e8f1e1fd}\index{client.h@{client.h}!pqs\_client\_connect\_ipv4@{pqs\_client\_connect\_ipv4}}
\index{pqs\_client\_connect\_ipv4@{pqs\_client\_connect\_ipv4}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{pqs\_client\_connect\_ipv4()}{pqs\_client\_connect\_ipv4()}}
{\footnotesize\ttfamily \label{client_8h_a3ce3276732b631174b471d95e8f1e1fd} 
PQS\+\_\+\+EXPORT\+\_\+\+API \mbox{\hyperlink{pqs_8h_a2c9a6e74f4ff60d25602074a1d70a4e2}{pqs\+\_\+errors}} pqs\+\_\+client\+\_\+connect\+\_\+ipv4 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structpqs__client__verification__key}{pqs\+\_\+client\+\_\+verification\+\_\+key}} \texorpdfstring{$\ast$}{*}}]{pubk}{, }\item[{const qsc\+\_\+ipinfo\+\_\+ipv4\+\_\+address \texorpdfstring{$\ast$}{*}}]{address}{, }\item[{uint16\+\_\+t}]{port}{, }\item[{void(\texorpdfstring{$\ast$}{*}}]{send\+\_\+func~}{)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), }\item[{void(\texorpdfstring{$\ast$}{*}}]{receive\+\_\+callback~}{)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}, size\+\_\+t)}\end{DoxyParamCaption})}



Connect to the remote server using IPv4 and perform the key exchange. 

This function attempts to establish a connection to the remote PQS server using the provided IPv4 address and port number. After a successful connection, it performs the client key exchange, and returns the connected socket and PQS client state via callback functions. On success, the function returns pqs\+\_\+error\+\_\+none; otherwise, it returns the appropriate error code.


\begin{DoxyParams}{Parameters}
{\em pubk} & \mbox{[}const\mbox{]} Pointer to the client\textquotesingle{}s public signature verification key. \\
\hline
{\em address} & \mbox{[}const\mbox{]} Pointer to the server\textquotesingle{}s IPv4 address. \\
\hline
{\em port} & The PQS application port number (typically PQS\+\_\+\+SERVER\+\_\+\+PORT). \\
\hline
{\em send\+\_\+func} & Pointer to the send callback function which contains the message send loop. \\
\hline
{\em receive\+\_\+callback} & Pointer to the receive callback function used to process the incoming server data stream.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A \doxylink{pqs_8h_a2c9a6e74f4ff60d25602074a1d70a4e2}{pqs\+\_\+errors} value indicating the outcome of the connection and key exchange process.
\end{DoxyReturn}
DOXYGEN\+\_\+\+IGNORE DOXYGEN\+\_\+\+IGNORE \Hypertarget{client_8h_a7633f2367ce518b49db644a90807103c}\index{client.h@{client.h}!pqs\_client\_connect\_ipv6@{pqs\_client\_connect\_ipv6}}
\index{pqs\_client\_connect\_ipv6@{pqs\_client\_connect\_ipv6}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{pqs\_client\_connect\_ipv6()}{pqs\_client\_connect\_ipv6()}}
{\footnotesize\ttfamily \label{client_8h_a7633f2367ce518b49db644a90807103c} 
PQS\+\_\+\+EXPORT\+\_\+\+API \mbox{\hyperlink{pqs_8h_a2c9a6e74f4ff60d25602074a1d70a4e2}{pqs\+\_\+errors}} pqs\+\_\+client\+\_\+connect\+\_\+ipv6 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structpqs__client__verification__key}{pqs\+\_\+client\+\_\+verification\+\_\+key}} \texorpdfstring{$\ast$}{*}}]{pubk}{, }\item[{const qsc\+\_\+ipinfo\+\_\+ipv6\+\_\+address \texorpdfstring{$\ast$}{*}}]{address}{, }\item[{uint16\+\_\+t}]{port}{, }\item[{void(\texorpdfstring{$\ast$}{*}}]{send\+\_\+func~}{)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), }\item[{void(\texorpdfstring{$\ast$}{*}}]{receive\+\_\+callback~}{)(\mbox{\hyperlink{structpqs__connection__state}{pqs\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}, size\+\_\+t)}\end{DoxyParamCaption})}



Connect to the remote server using IPv6 and perform the key exchange. 

This function attempts to establish a connection to the remote PQS server using the provided IPv6 address and port number. Following a successful connection, it carries out the client key exchange, and returns the connected socket and PQS client state via callback functions. On success, the function returns pqs\+\_\+error\+\_\+none; if any error occurs during the process, an appropriate error code is returned.


\begin{DoxyParams}{Parameters}
{\em pubk} & \mbox{[}const\mbox{]} Pointer to the client\textquotesingle{}s public signature verification key. \\
\hline
{\em address} & \mbox{[}const\mbox{]} Pointer to the server\textquotesingle{}s IPv6 address. \\
\hline
{\em port} & The PQS application port number (typically PQS\+\_\+\+SERVER\+\_\+\+PORT). \\
\hline
{\em send\+\_\+func} & Pointer to the send callback function which contains the message send loop. \\
\hline
{\em receive\+\_\+callback} & Pointer to the receive callback function used to process the incoming server data stream.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A \doxylink{pqs_8h_a2c9a6e74f4ff60d25602074a1d70a4e2}{pqs\+\_\+errors} value indicating the outcome of the connection and key exchange process. 
\end{DoxyReturn}
