<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PQS: Post Quantum Shell: C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/PQS/PQS/connections.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="pqs_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PQS: Post Quantum Shell<span id="projectnumber">&#160;1.0.0.0a (A1)</span>
   </div>
   <div id="projectbrief">A quantum safe shell application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('connections_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">connections.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The server connection collection.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;common.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pqs_8h_source.html">pqs.h</a>&quot;</code><br />
</div>
<p><a href="connections_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac14e503de83952970d83278cf433b3bf" id="r_ac14e503de83952970d83278cf433b3bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac14e503de83952970d83278cf433b3bf">pqs_connections_active</a> (size_t index)</td></tr>
<tr class="memdesc:ac14e503de83952970d83278cf433b3bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a collection member is set to active.  <br /></td></tr>
<tr class="separator:ac14e503de83952970d83278cf433b3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2688b2b18b7158e2608dee67a2e7e0d" id="r_af2688b2b18b7158e2608dee67a2e7e0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2688b2b18b7158e2608dee67a2e7e0d">pqs_connections_add</a> (void)</td></tr>
<tr class="memdesc:af2688b2b18b7158e2608dee67a2e7e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an item to the connection collection and set it to active.  <br /></td></tr>
<tr class="separator:af2688b2b18b7158e2608dee67a2e7e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1b3eb01076824c1f2c2465e352ed07" id="r_aad1b3eb01076824c1f2c2465e352ed07"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad1b3eb01076824c1f2c2465e352ed07">pqs_connections_available</a> (void)</td></tr>
<tr class="memdesc:aad1b3eb01076824c1f2c2465e352ed07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of available (inactive) connection states in the collection.  <br /></td></tr>
<tr class="separator:aad1b3eb01076824c1f2c2465e352ed07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c6e1ad00f14eb4e1ef8e8325e8eed4" id="r_a78c6e1ad00f14eb4e1ef8e8325e8eed4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78c6e1ad00f14eb4e1ef8e8325e8eed4">pqs_connections_get</a> (uint32_t instance)</td></tr>
<tr class="memdesc:a78c6e1ad00f14eb4e1ef8e8325e8eed4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a connection state pointer from a given instance number.  <br /></td></tr>
<tr class="separator:a78c6e1ad00f14eb4e1ef8e8325e8eed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301cb46554f5cc8beeb5264dd92f8f8f" id="r_a301cb46554f5cc8beeb5264dd92f8f8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a301cb46554f5cc8beeb5264dd92f8f8f">pqs_connections_initialize</a> (size_t count, size_t maximum)</td></tr>
<tr class="memdesc:a301cb46554f5cc8beeb5264dd92f8f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the connection collection.  <br /></td></tr>
<tr class="separator:a301cb46554f5cc8beeb5264dd92f8f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941d2297399498d702823dc0a5e1f4e2" id="r_a941d2297399498d702823dc0a5e1f4e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a941d2297399498d702823dc0a5e1f4e2">pqs_connections_clear</a> (void)</td></tr>
<tr class="memdesc:a941d2297399498d702823dc0a5e1f4e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase (clear) all the connection collection members.  <br /></td></tr>
<tr class="separator:a941d2297399498d702823dc0a5e1f4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c78493e275d50481554117d288cb8a" id="r_aa3c78493e275d50481554117d288cb8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3c78493e275d50481554117d288cb8a">pqs_connections_dispose</a> (void)</td></tr>
<tr class="memdesc:aa3c78493e275d50481554117d288cb8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispose of the connection collection state.  <br /></td></tr>
<tr class="separator:aa3c78493e275d50481554117d288cb8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0ab567197befed36188b5cf291f383" id="r_a6e0ab567197befed36188b5cf291f383"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e0ab567197befed36188b5cf291f383">pqs_connections_index</a> (size_t index)</td></tr>
<tr class="memdesc:a6e0ab567197befed36188b5cf291f383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a connection state pointer by its collection index.  <br /></td></tr>
<tr class="separator:a6e0ab567197befed36188b5cf291f383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfe8f3968c7aba91e96682113029c2b" id="r_a9bfe8f3968c7aba91e96682113029c2b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bfe8f3968c7aba91e96682113029c2b">pqs_connections_full</a> (void)</td></tr>
<tr class="memdesc:a9bfe8f3968c7aba91e96682113029c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the connection collection is full.  <br /></td></tr>
<tr class="separator:a9bfe8f3968c7aba91e96682113029c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3ea9119fdffde0f4624b1ce426ef95" id="r_abc3ea9119fdffde0f4624b1ce426ef95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc3ea9119fdffde0f4624b1ce426ef95">pqs_connections_next</a> (void)</td></tr>
<tr class="memdesc:abc3ea9119fdffde0f4624b1ce426ef95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next available connection state.  <br /></td></tr>
<tr class="separator:abc3ea9119fdffde0f4624b1ce426ef95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac34fa08430037985ad4cc4094a513db3" id="r_ac34fa08430037985ad4cc4094a513db3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac34fa08430037985ad4cc4094a513db3">pqs_connections_reset</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ac34fa08430037985ad4cc4094a513db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset a connection in the collection.  <br /></td></tr>
<tr class="separator:ac34fa08430037985ad4cc4094a513db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b88619d46ee7888c653a54cb54cf9f" id="r_a69b88619d46ee7888c653a54cb54cf9f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69b88619d46ee7888c653a54cb54cf9f">pqs_connections_size</a> (void)</td></tr>
<tr class="memdesc:a69b88619d46ee7888c653a54cb54cf9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total number of connection state items in the collection.  <br /></td></tr>
<tr class="separator:a69b88619d46ee7888c653a54cb54cf9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b11439996c649902ddf104f8a9d903f" id="r_a1b11439996c649902ddf104f8a9d903f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b11439996c649902ddf104f8a9d903f">pqs_connections_self_test</a> (void)</td></tr>
<tr class="memdesc:a1b11439996c649902ddf104f8a9d903f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the self-test for the connection collection.  <br /></td></tr>
<tr class="separator:a1b11439996c649902ddf104f8a9d903f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The server connection collection. </p>
<p>This header defines a collection of functions for managing the server connection states in the PQS implementation. These functions are internal (non-exportable) and are used to maintain an array (or collection) of connection state objects. The functions allow for initialization, addition, retrieval, reset, and disposal of connection states, as well as performing a self-test of the collection functionality.</p>
<p>The collection is implemented as a dynamically allocated array of connection state structures along with a parallel array of booleans to indicate which entries are active. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac14e503de83952970d83278cf433b3bf" name="ac14e503de83952970d83278cf433b3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14e503de83952970d83278cf433b3bf">&#9670;&#160;</a></span>pqs_connections_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pqs_connections_active </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a collection member is set to active. </p>
<p>This function checks if the connection state at the given index in the collection is marked as active. If the index is within bounds, the function returns the boolean flag from the internal active array. Otherwise, it returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The socket index number within the collection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the connection at the specified index is active; otherwise, false. </dd></dl>

</div>
</div>
<a id="af2688b2b18b7158e2608dee67a2e7e0d" name="af2688b2b18b7158e2608dee67a2e7e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2688b2b18b7158e2608dee67a2e7e0d">&#9670;&#160;</a></span>pqs_connections_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> * pqs_connections_add </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an item to the connection collection and set it to active. </p>
<p>This function adds a new connection state to the collection if the current number of entries plus one does not exceed the maximum allowed. It reallocates the internal arrays as needed, initializes the new connection state, sets its connection identifier (cid) to its index, and marks it as active.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the new connection state item or NULL if the maximum capacity is reached or a memory allocation failure occurs. </dd></dl>

</div>
</div>
<a id="aad1b3eb01076824c1f2c2465e352ed07" name="aad1b3eb01076824c1f2c2465e352ed07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1b3eb01076824c1f2c2465e352ed07">&#9670;&#160;</a></span>pqs_connections_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t pqs_connections_available </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of available (inactive) connection states in the collection. </p>
<p>This function iterates through the connection collection and counts the number of entries that are currently marked as inactive.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of available (inactive) connection states. </dd></dl>

</div>
</div>
<a id="a941d2297399498d702823dc0a5e1f4e2" name="a941d2297399498d702823dc0a5e1f4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a941d2297399498d702823dc0a5e1f4e2">&#9670;&#160;</a></span>pqs_connections_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqs_connections_clear </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase (clear) all the connection collection members. </p>
<p>This function clears the memory for all connection state structures in the collection and resets each active flag to false. It also resets the connection identifier (cid) of each state to its index. </p>

</div>
</div>
<a id="aa3c78493e275d50481554117d288cb8a" name="aa3c78493e275d50481554117d288cb8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3c78493e275d50481554117d288cb8a">&#9670;&#160;</a></span>pqs_connections_dispose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqs_connections_dispose </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispose of the connection collection state. </p>
<p>This function frees all memory allocated for the connection state array and the corresponding active flag array. It also resets the collection length and maximum capacity to zero. </p>

</div>
</div>
<a id="a9bfe8f3968c7aba91e96682113029c2b" name="a9bfe8f3968c7aba91e96682113029c2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bfe8f3968c7aba91e96682113029c2b">&#9670;&#160;</a></span>pqs_connections_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pqs_connections_full </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the connection collection is full. </p>
<p>The function iterates through the active flags in the connection collection. If every entry is marked as active, the collection is considered full.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if all connection state entries are active; otherwise, false. </dd></dl>

</div>
</div>
<a id="a78c6e1ad00f14eb4e1ef8e8325e8eed4" name="a78c6e1ad00f14eb4e1ef8e8325e8eed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c6e1ad00f14eb4e1ef8e8325e8eed4">&#9670;&#160;</a></span>pqs_connections_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> * pqs_connections_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>instance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a connection state pointer from a given instance number. </p>
<p>The function searches through the connection collection for a connection state whose connection identifier (cid) matches the provided instance number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The socket instance number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the pointer to the connection state if found; otherwise, returns NULL. </dd></dl>

</div>
</div>
<a id="a6e0ab567197befed36188b5cf291f383" name="a6e0ab567197befed36188b5cf291f383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0ab567197befed36188b5cf291f383">&#9670;&#160;</a></span>pqs_connections_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> * pqs_connections_index </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a connection state pointer by its collection index. </p>
<p>This function returns a pointer to the connection state located at the specified index in the internal connection collection, provided the index is within bounds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index number within the connection collection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the connection state at the given index, or NULL if the index is out of range. </dd></dl>

</div>
</div>
<a id="a301cb46554f5cc8beeb5264dd92f8f8f" name="a301cb46554f5cc8beeb5264dd92f8f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a301cb46554f5cc8beeb5264dd92f8f8f">&#9670;&#160;</a></span>pqs_connections_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqs_connections_initialize </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>maximum</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the connection collection. </p>
<p>This function allocates and initializes the internal connection collection with the specified number of connection states. A minimum of one connection state is created, and the maximum number of connection states is set to the provided value. Each connection state is initialized by setting its connection identifier (cid) to its index and marking it as inactive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of initial connection states to allocate (minimum of one). </td></tr>
    <tr><td class="paramname">maximum</td><td>The maximum number of connection states allowed (must be greater than or equal to count). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc3ea9119fdffde0f4624b1ce426ef95" name="abc3ea9119fdffde0f4624b1ce426ef95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3ea9119fdffde0f4624b1ce426ef95">&#9670;&#160;</a></span>pqs_connections_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpqs__connection__state.html">pqs_connection_state</a> * pqs_connections_next </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next available connection state. </p>
<p>This function searches for the first inactive connection state in the collection and marks it as active. If the collection is already full, it attempts to add a new connection state (subject to the maximum capacity).</p>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the next available (or newly added) connection state, or NULL if none are available. </dd></dl>

</div>
</div>
<a id="ac34fa08430037985ad4cc4094a513db3" name="ac34fa08430037985ad4cc4094a513db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac34fa08430037985ad4cc4094a513db3">&#9670;&#160;</a></span>pqs_connections_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqs_connections_reset </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>instance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset a connection in the collection. </p>
<p>This function finds the connection state with the specified connection identifier (cid) and resets it. The connection state is cleared, its connection identifier is reset to its index, and its active flag is set to false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The socket instance number (connection identifier) of the connection to reset. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b11439996c649902ddf104f8a9d903f" name="a1b11439996c649902ddf104f8a9d903f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b11439996c649902ddf104f8a9d903f">&#9670;&#160;</a></span>pqs_connections_self_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqs_connections_self_test </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the self-test for the connection collection. </p>
<p>This function performs a series of tests on the connection collection to verify correct behavior:</p>
<ul>
<li>Initializes the collection with one connection state and sets the maximum to 10.</li>
<li>Adds nine additional connection states using <a class="el" href="#abc3ea9119fdffde0f4624b1ce426ef95" title="Get the next available connection state.">pqs_connections_next()</a>, resulting in a full collection.</li>
<li>Checks that the number of available connections is zero and that the collection is full.</li>
<li>Resets several connection states (instances 1, 3, 5, 7, and 9) to simulate connection closure.</li>
<li>Verifies that the collection is no longer full.</li>
<li>Reclaims five connection states by calling <a class="el" href="#abc3ea9119fdffde0f4624b1ce426ef95" title="Get the next available connection state.">pqs_connections_next()</a> and confirms that the collection is full again.</li>
<li>Attempts to add an extra connection state beyond the maximum capacity.</li>
<li>Verifies that the collection size remains at the maximum (10).</li>
<li>Finally, clears and disposes of the collection.</li>
</ul>
<p>This self-test is intended for internal diagnostic purposes to ensure the integrity and proper operation of the connection management functions. </p>

</div>
</div>
<a id="a69b88619d46ee7888c653a54cb54cf9f" name="a69b88619d46ee7888c653a54cb54cf9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b88619d46ee7888c653a54cb54cf9f">&#9670;&#160;</a></span>pqs_connections_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t pqs_connections_size </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total number of connection state items in the collection. </p>
<p>This function returns the current number of connection state items in the internal connection collection.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the total number of connection state items. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e9536c9e8b0410029ffc8ee300da5ee.html">PQS</a></li><li class="navelem"><a class="el" href="connections_8h.html">connections.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
